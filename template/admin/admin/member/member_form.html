<form class="layui-form layui-box modal-form-box" action="{:request()->url()}" data-auto="true" method="post">
	<div class="layui-form-item">
		<label class="layui-form-label">{:lang('member username')}</label>
		<div class="layui-input-block">
			{present name="data.username"}
			<input type="text" class="layui-input disabled" name="username" value="{$data.username|default=''}" required="required" readonly="readonly" disabled="disabled" placeholder="{:lang('input prompt', ['prompt' => lang('member username')])}"/>
			{else}
			<input type="text" class="layui-input" name="username" value="{$data.username|default=''}" required="required" placeholder="{:lang('input prompt', ['prompt' => lang('member username')])}"/>
			{/present}
		</div>
	</div>
	{notpresent name="data.id"}
	<div class="layui-form-item">
		<label class="layui-form-label">{:lang('member password')}</label>
		<div class="layui-input-block">
			<input type="password" class="layui-input" name="password" required="required" pattern="^[\S]{6,16}$" placeholder="{:lang('input prompt', ['prompt' => lang('member password')])}"/>
			<label style="color:#aaa">{:lang('member password description')}</label>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">{:lang('member re_password')}</label>
		<div class="layui-input-block">
			<input type="password" class="layui-input" name="re_password" required="required" pattern="^[\S]{6,16}$" placeholder="{:lang('input prompt', ['prompt' => lang('member re_password')])}"/>
		</div>
	</div>
	{/notpresent}
	<div class="layui-form-item">
		<label class="layui-form-label">{:lang('member phone')}</label>
		<div class="layui-input-block">
			<input type="tel" class="layui-input" name="phone" value="{$data.phone|default=''}" pattern="^1[3-9][0-9]{9}$" placeholder="{:lang('input prompt', ['prompt' => lang('member phone')])}"/>
			<label style="color:#aaa">{:lang('member phone or email description')}</label>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">{:lang('member email')}</label>
		<div class="layui-input-block">
			<input type="email" class="layui-input" name="email" value="{$data.email|default=''}" pattern="^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$" placeholder="{:lang('input prompt', ['prompt' => lang('member email')])}"/>
			<label style="color:#aaa">{:lang('member phone or email description')}</label>
		</div>
	</div>
	{notpresent name="data.id"}
	{present name="authorizes"}
	<div class="layui-form-item">
		<label class="layui-form-label">{:lang('member authorize')}</label>
		<div class="layui-input-block">
			{foreach $authorizes as $authorize}
			{if isset($data['authorize']) && in_array($authorize['id'],$data['authorize'])}
			<input type="checkbox" checked name="authorize[]" title="{$authorize.name}" value="{$authorize.id}"/>
			{else}
			<input type="checkbox" name="authorize[]" title="{$authorize.name}" value="{$authorize.id}"/>
			{/if}
			{/foreach}
		</div>
	</div>
	{/present}
	{/notpresent}
	<div class="layui-form-item">
		<label class="layui-form-label">{:lang('user desc')}</label>
		<div class="layui-input-block">
			<textarea class="layui-textarea" name="desc" placeholder="{:lang('input prompt', ['prompt' => lang('member desc')])}">{$data.desc|default=""}</textarea>
		</div>
	</div>
	<div class="hr-line-dashed"></div>
	<div class="layui-form-item text-center">
		{present name="data.id"}<input type='hidden' value='{$data.id}' name='id'/>{/present}
		<button class="layui-btn" type='submit'>{$Think.lang.save}</button>
		<button class="layui-btn layui-btn-danger" type='button' data-confirm="{$Think.lang.cancel_confirm}" data-close>{$Think.lang.cancel}</button>
	</div>
	<script>window.form.render();</script>
</form>
