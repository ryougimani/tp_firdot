<form class="layui-form layui-box modal-form-box" action="{:request()->url()}" data-auto="true" method="post">
	<div class="layui-form-item">
		<label class="layui-form-label">{$Think.lang.username}</label>
		<div class="layui-input-block">
			{present name="data.username"}
			<input type="text" class="layui-input disabled" name="username" value="{$data.username|default=''}" required="required" readonly="readonly" disabled="disabled" placeholder="{$Think.lang.username_placeholder}"/>
			{else}
			<input type="text" class="layui-input" name="username" value="{$data.username|default=''}" required="required" placeholder="{$Think.lang.username_placeholder}"/>
			{/present}
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">{$Think.lang.authorize}</label>
		<div class="layui-input-block">
			{foreach $authorizes as $authorize}
			{if isset($data['authorize']) && in_array($authorize['id'], $data['authorize'])}
			<input type="checkbox" checked name="authorize[]" value="{$authorize.id}" title="{$authorize.name}">
			{else}
			<input type="checkbox" name="authorize[]" value="{$authorize.id}" title="{$authorize.name}">
			{/if}
			{/foreach}
		</div>
	</div>
	<div class="hr-line-dashed"></div>
	<div class="layui-form-item text-center">
		{present name="data.id"}<input type='hidden' value='{$data.id}' name='id'/>{/present}
		<button class="layui-btn" type='submit'>{$Think.lang.save}</button>
		<button class="layui-btn layui-btn-danger" type='button' data-confirm="{$Think.lang.cancel_confirm}" data-close>{$Think.lang.cancel}</button>
	</div>
	<script>window.form.render();</script>
</form>